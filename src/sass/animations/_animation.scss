$top: 100px;
$left: 500px;
$topDif: 2px;
$leftDif: 5px;

@mixin topDist($top, $topDif, $nth) {
  top: calc(#{$top} + (#{$topDif} * (#{$nth} - 1)));
}

@mixin leftDist($left, $leftDif, $nth) {
  left: calc(#{$left} + (#{$leftDif} * (#{$nth - 1})));
}

@mixin cardAnimation($animation, $time, $z, $deley) {
  animation-name: $animation;
  animation-duration: $time;
  animation-fill-mode: forwards;
  animation-timing-function: ease-in-out;
  // animation-delay: $deley;
  z-index: $z;
}

// .card-list {
//   position: relative;
// }

.card__item {
  box-shadow: 0px 20px 10px 0px rgba(24, 21, 21, 0.3);

  cursor: pointer;

  &:nth-child(1) {
    z-index: 4;
    @include topDist($top, $topDif, 1);
    @include leftDist($left, $leftDif, 1);
  }
  &:nth-child(2) {
    z-index: 3;
    transform: rotate(1deg);
    @include topDist($top, $topDif, 2.2);
    @include leftDist($left, $leftDif, 2.3);
  }
  &:nth-child(3) {
    z-index: 2;
    transform: rotate(2deg);
    @include topDist($top, $topDif, 3.2);
    @include leftDist($left, $leftDif, 3.9);
  }
  &:nth-child(4) {
    z-index: 1;
    transform: rotate(1deg);
    @include topDist($top, $topDif, 4.6);
    @include leftDist($left, $leftDif, 4.3);
  }

  &-animation {
    cursor: auto;
    &:nth-child(1) {
      @include cardAnimation(firstCard, 1750ms, 4, 0ms);
    }
    &:nth-child(2) {
      @include leftDist($left, $leftDif, 2.3);
      @include cardAnimation(secondCard, 1750ms, 5, 1500ms);
    }
    &:nth-child(3) {
      @include leftDist($left, $leftDif, 3.9);
      @include cardAnimation(thirdCard, 1750ms, 6, 3000ms);
    }
    &:nth-child(4) {
      @include leftDist($left, $leftDif, 4.3);
    }
  }
}

// Key frame

@keyframes firstCard {
  0% {
    transform: translate(0px, -0px) rotate(2deg);
  }

  100% {
    transform: translate(350px, -390px) rotate(20deg);
    box-shadow: 0px 0px 2px 0px rgba(24, 21, 21, 0.3);
  }
}

@keyframes secondCard {
  0% {
    transform: translate(0px, -0px) rotate(2deg);
  }

  100% {
    transform: translate(350px, -380px) rotate(15deg);
    box-shadow: 0px 0px 2px 0px rgba(24, 21, 21, 0.3);
  }
}

@keyframes thirdCard {
  0% {
    transform: translate(0px, -0px) rotate(2deg);
  }

  100% {
    transform: translate(350px, -370px) rotate(12deg);
    box-shadow: 0px 0px 2px 0px rgba(24, 21, 21, 0.3);
    z-index: 5;
  }
}
